```sh
dotnet add package Microsoft.AspNetCore.Authentication.JwtBearer
```

Добавьте строку подключения в `appsettings.json`:

```json
"ConnectionStrings": {
    "MYSQLConnectionString": "Server=localhost;Port=3306;Database=dotnetshop;Uid=admin;Pwd=shalom***;"
  }, 
"Jwt": { 
	"Key": "SuperSecretKeyHere", 
	"Issuer": "YourIssuer", 
	"Audience": "YourAudience" 
}
```

### 1. **`Key`**

- **Описание:** Это секретный ключ, который используется для подписывания и проверки подлинности токенов.  
    Он обязательно должен быть уникальным, длинным и хорошо защищённым.
- **Пример использования:**  
    Этот ключ применяется для создания цифровой подписи токена с использованием алгоритма HMAC (например, `HS256`).
- **Рекомендации:**  
    Храните этот ключ в безопасных местах (например, в **Azure Key Vault**, **AWS Secrets Manager** или **.env** файле) и избегайте его публикации.

### 2. **`Issuer`**

- **Описание:**  
    Это идентификатор издателя токена.  
    В токене он добавляется в виде клейма `iss` (issuer), чтобы указывать, какая система или приложение выпустило токен.
- **Пример:**
    - Для веб-приложения: `"https://example.com"`.
    - Для внутреннего API: `"MyAuthServer"`.
- **Рекомендации:**  
    Используйте уникальное значение, связанное с вашим приложением.

### 3. **`Audience`**

- **Описание:**  
    Это идентификатор аудитории токена — тех, кто имеет право использовать токен.  
    В токене добавляется в виде клейма `aud` (audience).
- **Пример:**
    - Если токен предназначен для использования API: `"https://api.example.com"`.
    - Если несколько клиентов используют один сервер: `"MobileApp"`, `"WebApp"`.
- **Рекомендации:**  
    Убедитесь, что в настройках токена эта аудитория соответствует вашим клиентам или сервисам.

### Как всё это работает вместе?

1. **При генерации токена:**
    
    - Секретный ключ `Key` используется для подписывания токена.
    - `Issuer` и `Audience` добавляются как клеймы.
    - Токен шифруется и выдаётся пользователю.

2. **При валидации токена:**
    
    - Проверяется подпись токена с использованием `Key`.
    - Проверяется, совпадает ли `Issuer` токена с ожидаемым.
    - Проверяется, предназначен ли токен для указанной `Audience`.





